## Mổ sẻ project kolla-ansible

Với một người có nền tảng kiến thức về docker, openstack, ansible thì khi tiếp cận vào project vẫn bị choáng.

Tại sao lại vậy, đơn giản vì project kolla-ansible nó quá đồ sộ.

Vậy nên bắt đầu từ đâu?

Câu trả lời là playbook. Còn playbook là gì thì hãy tìm hiểu ansible trước

Playbook là một tấm bản đồ mà ta sẽ lần theo để đi tiếp. 

Trong playbook của kolla-ansible, nó định nghĩa các role rất rõ ràng. Chúng ta sẽ vào [link sau](https://opendev.org/openstack/kolla-ansible)

Kiến trúc các thư mục trong kolla-ansible được mô tả như sau:

- `ansible` - Contains Ansible playbooks to deploy OpenStack services and infrastructure components in Docker containers.
- `contrib` - Contains demos scenarios for Heat, Magnum and Tacker and a development environment for Vagrant
- `doc` - Contains documentation.
- `etc` - Contains a reference etc directory structure which requires configuration of a small number of configuration variables to achieve a working All-in-One (AIO) deployment.
- `kolla_ansible` - Contains password generation script.
- `releasenotes` - Contains releasenote of all features added in Kolla-Ansible.
- `specs` - Contains the Kolla-Ansible communities key arguments about architectural shifts in the code base.
- `tests` - Contains functional testing tools.
- `tools` - Contains tools for interacting with Kolla-Ansible.
- `zuul.d` - Contains project gate job definitions.

Sau đó vào thư mục `ansible` để thấy các playbook mà kolla-ansible sử dụng. 

Tôi thấy playbook được sử dụng chỉnh tên là `site.yml`

### Chi tiết về playbook site.yml

Dòng đầu tiên trong file playbook là:
```sh
- import_playbook: gather-facts.yml
```

Ai làm về ansible đều biết việc thu thập thông tin hiện trạng hệ thống là quan trọng nhất.








## Tham khảo

- 

